.character-graph{display:flex;flex-direction:column;gap:var(--space-lg);height:calc(100vh - 200px);min-height:600px}.character-graph.loading{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-lg);color:var(--ink-medium)}.graph-header{text-align:center}.graph-header h2{font-family:var(--font-chinese),var(--font-serif);font-size:1.8rem;color:var(--ink-black);margin-bottom:var(--space-sm)}.graph-subtitle{color:var(--ink-light);font-size:.9rem;margin:0}.graph-wrapper{flex:1;position:relative;background:var(--paper-light);border-radius:8px;box-shadow:var(--shadow-md);overflow:hidden;background-image:radial-gradient(ellipse at 30% 20%,rgba(107,107,107,.03) 0%,transparent 50%),radial-gradient(ellipse at 70% 80%,rgba(107,107,107,.03) 0%,transparent 50%)}.graph-svg{display:block;width:100%;height:100%}.graph-legend{position:absolute;top:var(--space-md);left:var(--space-md);background:#fffffff2;padding:var(--space-md);border-radius:6px;box-shadow:var(--shadow-md);font-size:.7rem;max-width:320px;max-height:calc(100% - 40px);overflow-y:auto;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.legend-section{margin-bottom:var(--space-md)}.legend-section:last-child{margin-bottom:0}.legend-section h4{font-size:.65rem;text-transform:uppercase;letter-spacing:.05em;color:var(--ink-medium);margin-bottom:var(--space-sm);padding-bottom:var(--space-xs);border-bottom:1px solid var(--paper-warm)}.legend-items{display:flex;flex-direction:column;gap:3px}.legend-items.legend-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:3px 12px}.legend-item{display:flex;align-items:center;gap:var(--space-sm);cursor:default}.legend-item:hover{opacity:.8}.legend-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0;box-shadow:0 0 0 1px #0000001a}.legend-line{width:16px;height:3px;border-radius:2px;flex-shrink:0}.legend-label{color:var(--ink-dark);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:.65rem}.node-info-panel{position:absolute;top:var(--space-md);right:var(--space-md);background:#1a1a1af2;color:var(--paper-cream);padding:var(--space-md) var(--space-lg);border-radius:6px;box-shadow:var(--shadow-lg);min-width:180px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);animation:slideIn .2s ease}@keyframes slideIn{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}.node-info-panel h4{font-family:var(--font-chinese),var(--font-serif);font-size:1.2rem;color:var(--gold-light);margin-bottom:var(--space-xs)}.node-archetype{font-size:.85rem;color:var(--paper-warm);margin-bottom:var(--space-sm)!important;padding-bottom:var(--space-sm);border-bottom:1px solid rgba(255,255,255,.1)}.node-alias{font-size:.75rem;color:var(--ink-light);font-style:italic;margin-bottom:var(--space-xs)!important}.node-connections{font-size:.8rem;color:var(--vermillion-light);margin:0!important}.graph-controls{text-align:center}.hint{display:inline-flex;align-items:center;gap:var(--space-sm);font-size:.8rem;color:var(--ink-light);background:var(--paper-warm);padding:var(--space-sm) var(--space-md);border-radius:20px;margin:0}.hint-icon{font-size:1rem}.graph-svg .node{transition:r .2s ease}.graph-svg .edge{transition:stroke-opacity .2s ease,stroke-width .2s ease}.graph-svg .node-label{pointer-events:none;-webkit-user-select:none;user-select:none;text-shadow:1px 1px 2px white,-1px -1px 2px white,1px -1px 2px white,-1px 1px 2px white}.graph-svg .archetype-badge{pointer-events:none;-webkit-user-select:none;user-select:none}.graph-svg .edge-label{pointer-events:none;-webkit-user-select:none;user-select:none;font-family:var(--font-sans);text-shadow:1px 1px 2px white,-1px -1px 2px white}@media (max-width: 768px){.graph-legend{position:static;max-width:none;margin-bottom:var(--space-md)}.node-info-panel{position:static;margin-top:var(--space-md)}.character-graph{height:auto;min-height:auto}.graph-wrapper{height:500px}}.story-ribbons{display:flex;flex-direction:column;gap:var(--space-lg)}.story-ribbons.loading{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:var(--space-lg);color:var(--ink-medium)}.ribbons-wrapper{position:relative;background:var(--paper-light);border-radius:12px;box-shadow:var(--shadow-md);overflow-x:auto;overflow-y:visible;padding:var(--space-md);background-image:linear-gradient(180deg,rgba(255,255,255,.8) 0%,transparent 30%),linear-gradient(90deg,var(--paper-light) 0%,transparent 10%),linear-gradient(-90deg,var(--paper-light) 0%,transparent 10%),radial-gradient(ellipse at 20% 50%,rgba(214,168,113,.03) 0%,transparent 50%),radial-gradient(ellipse at 80% 50%,rgba(45,106,79,.03) 0%,transparent 50%)}.ribbons-svg{display:block;min-width:100%}.ribbons-svg .ribbon{transition:opacity .15s ease}.ribbons-svg .ribbon-area{transition:fill-opacity .15s ease}.ribbons-svg .ribbon-line{transition:stroke-width .15s ease,stroke-opacity .15s ease}.ribbons-svg .interaction-point{transition:r .15s ease,fill .15s ease}.ribbons-svg .interaction-point:hover{r:8}.ribbons-svg .event-marker{transition:opacity .15s ease}.ribbons-legend{position:fixed;top:140px;right:20px;background:#fffffff7;border-radius:8px;box-shadow:0 2px 12px #0000001f;font-size:.7rem;border:1px solid rgba(0,0,0,.08);z-index:100;transition:all .2s ease}.ribbons-legend.collapsed{padding:0;background:#ffffffeb}.ribbons-legend.open{padding:var(--space-xs) var(--space-sm);padding-top:0;max-width:300px}.ribbons-legend .legend-toggle{display:flex;align-items:center;gap:5px;padding:5px 10px;background:transparent;border:none;cursor:pointer;font-size:.65rem;color:var(--ink-dark);font-weight:600;width:100%;text-align:left;border-radius:6px;transition:background .15s ease}.ribbons-legend .legend-toggle:hover{background:#0000000d}.ribbons-legend .legend-toggle .toggle-icon{font-size:.55rem;opacity:.6}.ribbons-legend.open .legend-toggle{border-bottom:1px solid var(--paper-warm);border-radius:6px 6px 0 0;margin-bottom:4px}.ribbons-legend .legend-content{animation:fadeIn .15s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.ribbons-legend .legend-section{margin-bottom:var(--space-sm)}.ribbons-legend .legend-section:last-child{margin-bottom:0}.ribbons-legend .legend-section h4{font-size:.6rem;text-transform:uppercase;letter-spacing:.03em;color:var(--ink-medium);margin-bottom:4px;padding-bottom:2px;border-bottom:1px solid var(--paper-warm)}.ribbons-legend .legend-items{display:flex;flex-direction:column;gap:3px}.ribbons-legend .legend-item{display:flex;align-items:center;gap:6px;font-size:.65rem;color:var(--ink-dark)}.ribbons-legend .legend-dot-large{width:10px;height:10px;border-radius:50%;flex-shrink:0}.ribbons-legend .legend-dot-small{width:8px;height:8px;border-radius:50%;flex-shrink:0}.ribbons-legend .legend-dot-hollow{width:8px;height:8px;border-radius:50%;flex-shrink:0;background:#fff;border:2px solid #666}.ribbons-legend .legend-color-range{display:flex;gap:1px;flex-shrink:0}.ribbons-legend .legend-color-range .color-swatch{width:8px;height:8px;border-radius:2px}.ribbons-legend .legend-color-range.warm .color-swatch:first-child{border-radius:4px 2px 2px 4px}.ribbons-legend .legend-color-range.warm .color-swatch:last-child{border-radius:2px 4px 4px 2px}.ribbons-legend .legend-color-range.cool .color-swatch:first-child{border-radius:4px 2px 2px 4px}.ribbons-legend .legend-color-range.cool .color-swatch:last-child{border-radius:2px 4px 4px 2px}.ribbons-legend .legend-color-range.gradient .color-swatch:first-child{border-radius:4px 2px 2px 4px}.ribbons-legend .legend-color-range.gradient .color-swatch:last-child{border-radius:2px 4px 4px 2px}.ribbons-legend .heatmap-bar-container{flex-direction:column;align-items:stretch;gap:4px}.ribbons-legend .heatmap-gradient-bar{width:100%;height:16px;border-radius:4px;border:1px solid rgba(0,0,0,.1);box-shadow:inset 0 1px 2px #0000000d}.ribbons-legend .heatmap-labels{display:flex;justify-content:space-between;font-size:.55rem;color:var(--ink-medium);padding:0 2px}.ribbons-legend .legend-line{width:20px;height:3px;border-radius:2px;flex-shrink:0}.ribbons-legend .legend-items.horizontal{flex-direction:row;gap:12px}.ribbons-legend .char-relationship{font-size:.65rem;font-weight:600}.ribbons-legend .legend-row{display:flex;gap:var(--space-md)}.ribbons-legend .legend-row .legend-section{flex:1;margin-bottom:0}.ribbons-legend .legend-items.compact{gap:2px}.ribbons-legend .hovered-char{border-top:1px solid var(--paper-warm);padding-top:var(--space-xs);margin-top:var(--space-xs)}.ribbons-legend .hovered-char .char-name{font-family:var(--font-chinese),var(--font-serif);font-size:.85rem;color:var(--ink-black);margin:0!important}.ribbons-legend .hovered-char .char-info{display:flex;gap:var(--space-sm);font-size:.6rem;color:var(--ink-light)}.event-info-panel{position:fixed;bottom:var(--space-xl);left:50%;transform:translate(-50%);background:#1a1a1af7;color:var(--paper-cream);padding:var(--space-lg);border-radius:12px;box-shadow:0 10px 40px #0000004d;min-width:350px;max-width:550px;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);animation:slideUp .2s ease;z-index:100}@keyframes slideUp{0%{opacity:0;transform:translate(-50%) translateY(20px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.event-info-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-md);padding-bottom:var(--space-sm);border-bottom:1px solid rgba(255,255,255,.1)}.event-type-badge{padding:4px 10px;border-radius:4px;font-size:.7rem;text-transform:uppercase;letter-spacing:.05em;color:#fff;font-weight:600}.event-time{font-size:.85rem;color:var(--gold-light);font-family:monospace}.event-description{font-size:.95rem;line-height:1.6;margin-bottom:var(--space-md)!important;color:var(--paper-cream)}.event-participants{display:flex;flex-direction:column;gap:var(--space-xs);margin-bottom:var(--space-md)}.participant-group{display:flex;gap:var(--space-sm);font-size:.8rem;flex-wrap:wrap}.participant-label{color:var(--ink-light);min-width:100px}.participant-names{color:var(--gold-light);font-family:var(--font-chinese),var(--font-serif)}.event-excerpt{background:#ffffff0d;padding:var(--space-sm) var(--space-md);border-radius:6px;border-left:3px solid var(--gold);margin-top:var(--space-sm)}.event-excerpt p{font-size:.8rem;font-style:italic;color:var(--paper-warm);margin:0!important;line-height:1.5;font-family:var(--font-chinese),var(--font-serif)}.ribbons-controls{text-align:center}.ribbons-controls .hint{display:inline-flex;align-items:center;gap:var(--space-sm);font-size:.8rem;color:var(--ink-light);background:var(--paper-warm);padding:var(--space-sm) var(--space-md);border-radius:20px;margin:0}.ribbons-controls .hint-icon{font-size:1rem}@media (max-width: 768px){.ribbons-legend{position:static;max-width:none;margin-bottom:var(--space-md)}.event-info-panel{position:fixed;left:var(--space-md);right:var(--space-md);transform:none;min-width:auto;max-width:none}.ribbons-wrapper{overflow-x:scroll}}@keyframes ribbonPulse{0%,to{stroke-opacity:.8}50%{stroke-opacity:1}}.segmentation-page{padding:2rem;max-width:1400px;margin:0 auto}.segmentation-header{margin-bottom:2rem}.segmentation-header h2{margin:0 0 .5rem;color:#2c3e50;font-size:2rem}.segmentation-header p{margin:0;color:#7f8c8d;font-size:1rem}.current-story{color:#3498db}.current-story strong{color:#2980b9}.no-story-message{background:#fff3cd;border:1px solid #ffc107;border-radius:6px;padding:1.5rem;text-align:center;color:#856404;margin:2rem 0}.story-info-section{background:#e8f4f8;border-radius:8px;padding:1rem;margin-bottom:1rem;display:flex;gap:1.5rem;align-items:center;flex-wrap:wrap}.story-info{display:flex;gap:.5rem;align-items:center}.story-info label{font-weight:600;color:#2c3e50;margin:0}.story-info span{color:#3498db;font-weight:500}.loading-indicator{color:#7f8c8d;font-size:.9rem}.text-edit-hint{margin-left:.5rem;font-size:.8rem;color:#7f8c8d;font-style:italic}.segmentation-content{display:flex;flex-direction:column;gap:2rem}.input-section{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a}.input-group{margin-bottom:1.5rem}.input-group label{display:block;margin-bottom:.5rem;font-weight:600;color:#2c3e50}.input-group textarea{width:100%;padding:.75rem;border:2px solid #e0e0e0;border-radius:4px;font-family:inherit;font-size:.95rem;resize:vertical;transition:border-color .2s}.input-group textarea:focus{outline:none;border-color:#3498db}.text-info{margin-top:.5rem;font-size:.85rem;color:#7f8c8d}.parameters-section,.ground-truth-section{margin-top:1.5rem}.gt-info{padding:1rem;background:#f0f9ff;border:1px solid #bae6fd;border-radius:6px}.gt-summary{color:#0369a1;font-size:.9rem}.gt-summary small{display:block;margin-top:.5rem;color:#64748b}.ground-truth-section{margin-bottom:1.5rem;padding:1rem;background:#f8f9fa;border-radius:6px}.parameters-section h3,.ground-truth-section h3{margin:0 0 1rem;font-size:1.2rem;color:#2c3e50}.params-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.param-group{display:flex;flex-direction:column}.param-group label{margin-bottom:.25rem;font-size:.9rem;font-weight:500;color:#555}.param-group input,.param-group select{padding:.5rem;border:1px solid #ddd;border-radius:4px;font-size:.9rem}.param-group small{margin-top:.25rem;font-size:.75rem;color:#7f8c8d}.segment-button{background:#3498db;color:#fff;border:none;padding:.75rem 2rem;border-radius:6px;font-size:1rem;font-weight:600;cursor:pointer;transition:background-color .2s}.segment-button:hover:not(:disabled){background:#2980b9}.segment-button:disabled{background:#bdc3c7;cursor:not-allowed}.error-message{padding:1rem;background:#fee;border:1px solid #fcc;border-radius:6px;color:#c33}.results-section{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a}.results-header{margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid #e0e0e0}.results-header h3{margin:0 0 1rem;color:#2c3e50;font-size:1.5rem}.evaluation-score{padding:.75rem;background:#e8f5e9;border-radius:6px;margin-bottom:1rem;font-size:1.1rem}.evaluation-score strong{color:#2e7d32}.results-meta{display:flex;gap:1.5rem;flex-wrap:wrap;font-size:.9rem;color:#7f8c8d}.results-meta span{padding:.25rem .5rem;background:#f0f0f0;border-radius:4px}.predicted-text-segment-bg{display:inline;position:relative;cursor:help;padding:2px 4px;border-radius:3px;transition:opacity .2s,box-shadow .2s;border:1px solid rgba(239,68,68,.3)}.predicted-text-segment-bg:hover{opacity:.85;box-shadow:0 2px 4px #ef444426;z-index:1;position:relative}.text-with-highlights .predicted-text-segment-bg{display:inline!important;line-height:1.8;vertical-align:baseline;padding:2px 4px!important;color:inherit!important}.comparison-text-container{position:relative;width:100%}.comparison-text-upper{position:relative;width:100%;clip-path:polygon(0 0,100% 0,100% 50%,0 50%);pointer-events:none}.comparison-text-lower{position:absolute;top:0;left:0;width:100%;clip-path:polygon(0 50%,100% 50%,100% 100%,0 100%);pointer-events:none}.segments-container{display:flex;flex-direction:column;gap:1.5rem;margin-bottom:2rem}.segment-card{border-radius:8px;padding:1.5rem;border:2px solid #e0e0e0;transition:transform .2s,box-shadow .2s}.segment-card:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.segment-header{margin-bottom:1rem}.segment-header h4{margin:0;color:#2c3e50;font-size:1.2rem}.segment-range{font-size:.9rem;font-weight:400;color:#7f8c8d;margin-left:.5rem}.segment-text{line-height:1.6;color:#444;white-space:pre-wrap}.visualization-section{margin-top:30px;padding-top:30px;border-top:2px solid #e2e8f0}.visualization-section h3{margin-bottom:20px;color:#1e293b;font-size:1.3rem}.viz-item{margin-bottom:40px}.viz-item h4{margin-bottom:15px;color:#475569;font-size:1.1rem;font-weight:600}.text-display-with-segments{border:1px solid #cbd5e1;border-radius:6px;background:#fff;overflow:hidden}.gt-segments-legend{padding:.75rem;background:#f8f9fa;border-bottom:1px solid #e2e8f0;display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;font-size:.85rem}.gt-segments-legend strong{margin-right:.5rem;color:#475569}.legend-item{padding:.25rem .5rem;border-radius:4px;border:1px solid rgba(0,0,0,.1);font-size:.8rem;white-space:nowrap}.text-with-highlights{padding:1rem;min-height:200px;max-height:500px;overflow-y:auto;line-height:1.8;white-space:pre-wrap;word-wrap:break-word;font-family:inherit;font-size:.95rem;color:#1e293b;background:#fff}.gt-text-segment{padding:2px 4px;border-radius:3px;cursor:help;transition:opacity .2s,box-shadow .2s;border:1px solid rgba(0,0,0,.1)}.gt-text-segment:hover{opacity:.85;box-shadow:0 2px 4px #00000026;z-index:1;position:relative}.annotation-hint{color:#64748b;font-style:italic}.comparison-section{padding:1rem;background:#f8f9fa;border-radius:6px}.comparison-section h4{margin:0 0 1rem;color:#2c3e50}.comparison-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.comparison-item{padding:.75rem;background:#fff;border-radius:4px;display:flex;flex-direction:column;gap:.25rem}.comparison-item strong{color:#2c3e50;font-size:.9rem}.comparison-item span{color:#555;font-size:.95rem}.score-value{font-size:1.2rem!important;font-weight:600;color:#27ae60!important}.display-mode-toggle{display:flex!important;gap:.5rem;align-items:center;flex-wrap:wrap}.mode-button{padding:.5rem 1rem!important;border:2px solid #cbd5e1!important;border-radius:6px!important;background:#fff!important;color:#475569!important;font-size:.9rem!important;font-weight:500!important;cursor:pointer!important;transition:all .2s!important;margin:0!important;min-width:100px;text-align:center}.mode-button:hover:not(:disabled){border-color:#3498db!important;background:#f0f9ff!important;color:#2980b9!important}.mode-button.active{border-color:#3498db!important;background:#3498db!important;color:#fff!important;font-weight:600!important}.mode-button:disabled{opacity:.5!important;cursor:not-allowed!important;background:#f1f5f9!important}.loading-state{text-align:center;padding:2rem;color:#7f8c8d}.loading-spinner{border:3px solid #f3f3f3;border-top:3px solid #3498db;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;margin:0 auto 1rem}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.visualization-container{width:100%;margin:20px 0;padding:20px;background:#fff;border:1px solid #e2e8f0;border-radius:8px;box-shadow:0 2px 4px #0000001a}.visualization-svg-container{width:100%;overflow-x:auto}.visualization-svg-container svg{display:block;margin:0 auto}.visualization-placeholder{padding:40px;text-align:center;color:#94a3b8;font-style:italic}.grid line{stroke:#e2e8f0;stroke-width:1;opacity:.3}.grid path{stroke-width:0}.x-axis line,.y-axis line{stroke:#94a3b8;stroke-width:1}.x-axis path,.y-axis path{stroke:#94a3b8;stroke-width:1}.x-axis text,.y-axis text{fill:#64748b;font-size:11px}.legend-axis line,.legend-axis path{stroke:#94a3b8;stroke-width:1}.legend-axis text{fill:#64748b;font-size:10px}.gt-boundary,.pred-boundary,.predicted-boundary{pointer-events:none}@media (max-width: 768px){.visualization-container{padding:10px}.visualization-svg-container{overflow-x:scroll}}.story-browser{display:flex;flex-direction:column;height:100%}.story-browser-header{padding:1rem;border-bottom:1px solid #e2e8f0;background:#f1f5f9}.story-browser-header h2{margin:0 0 .5rem;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:#64748b}.file-input-btn{display:inline-block;width:100%;text-align:center;background:#fff;border:1px solid #cbd5e1;padding:.4rem;border-radius:6px;font-size:.85rem;font-weight:500;cursor:pointer;color:#475569;transition:all .15s}.file-input-btn:hover{border-color:#94a3b8;color:#1e293b}.file-input-btn input{display:none}.story-list{flex:1;overflow-y:auto;padding:.5rem}.story-item{width:100%;text-align:left;background:transparent;border:none;padding:.5rem .75rem;margin-bottom:2px;border-radius:6px;font-size:.9rem;color:#475569;cursor:pointer;transition:background .15s;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.story-item:hover{background:#e2e8f0;color:#1e293b}.story-item.active{background:#eff6ff;color:#2563eb;font-weight:500}.empty-list-state{padding:1rem;font-size:.85rem;color:#94a3b8;text-align:center;font-style:italic}.app{min-height:100vh;display:flex;flex-direction:column}.app-header{background:linear-gradient(135deg,var(--ink-black) 0%,var(--ink-dark) 100%);color:var(--paper-cream);padding:var(--space-md) var(--space-xl);position:sticky;top:0;z-index:100;box-shadow:var(--shadow-lg)}.header-content{max-width:1400px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:var(--space-xl);flex-wrap:wrap}.app-title{display:flex;flex-direction:column;gap:var(--space-xs)}.title-main{font-family:var(--font-serif);font-size:1.5rem;letter-spacing:.05em;color:var(--gold-light)}.title-sub{font-size:.8rem;font-weight:400;opacity:.7;letter-spacing:.05em}.main-nav{display:flex;gap:var(--space-sm)}.nav-link{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-lg);background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:4px;color:var(--paper-cream);font-size:.9rem;transition:all var(--transition-normal)}.nav-link:hover{background:#ffffff1a;color:var(--gold-light);border-color:var(--gold)}.nav-link.active{background:var(--vermillion);border-color:var(--vermillion);color:#fff}.nav-icon{font-size:1.2rem}.story-selector{display:flex;align-items:center;gap:var(--space-md)}.story-selector label{font-size:.85rem;opacity:.8}.story-selector select{padding:var(--space-sm) var(--space-md);background:var(--ink-dark);border:1px solid rgba(255,255,255,.2);border-radius:4px;color:var(--paper-cream);font-family:var(--font-serif);font-size:.9rem;min-width:200px;cursor:pointer;transition:all var(--transition-fast)}.story-selector select:hover{border-color:var(--gold)}.story-selector select:focus{outline:none;border-color:var(--gold-light);box-shadow:0 0 0 2px #d4a3734d}.app-layout{display:flex;flex:1;overflow:hidden}.app-sidebar{width:280px;min-width:280px;background:#fff;border-right:1px solid #e2e8f0;overflow-y:auto;flex-shrink:0}.app-main{flex:1;padding:var(--space-xl);overflow-y:auto;background:#f8f9fa}.loading-state,.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:var(--space-lg);color:var(--ink-medium)}.loading-spinner{width:48px;height:48px;border:3px solid var(--paper-warm);border-top-color:var(--vermillion);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.empty-state code{background:var(--ink-black);color:var(--gold-light);padding:var(--space-sm) var(--space-md);border-radius:4px;font-family:monospace;font-size:.85rem}.app-footer{background:var(--ink-black);color:var(--ink-light);text-align:center;padding:var(--space-md);font-size:.8rem}@media (max-width: 900px){.header-content{flex-direction:column;text-align:center}.main-nav{order:3;width:100%;justify-content:center}.story-selector{flex-direction:column;gap:var(--space-sm)}}:root{--ink-black: #1a1a1a;--ink-dark: #2d2d2d;--ink-medium: #4a4a4a;--ink-light: #6b6b6b;--paper-cream: #f5f0e8;--paper-light: #faf8f5;--paper-warm: #ebe5d9;--vermillion: #e63946;--vermillion-light: #ff6b6b;--cinnabar: #c1121f;--jade: #2d6a4f;--jade-light: #40916c;--azure: #219ebc;--gold: #d4a373;--gold-light: #e9c46a;--sentiment-positive: #40916c;--sentiment-negative: #c1121f;--sentiment-neutral: #6b6b6b;--sentiment-romantic: #e63946;--sentiment-fearful: #7209b7;--sentiment-hostile: #370617;--rel-family: #d4a373;--rel-romance: #e63946;--rel-social: #219ebc;--rel-hierarchy: #7209b7;--rel-adversarial: #370617;--archetype-hero: #e63946;--archetype-villain: #370617;--archetype-mentor: #7209b7;--archetype-helper: #40916c;--archetype-other: #6b6b6b;--font-chinese: "Ma Shan Zheng", "Noto Serif SC", serif;--font-serif: "Crimson Pro", "Noto Serif SC", serif;--font-sans: system-ui, -apple-system, sans-serif;--space-xs: .25rem;--space-sm: .5rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--space-2xl: 3rem;--transition-fast: .15s ease;--transition-normal: .25s ease;--transition-slow: .4s ease;--shadow-sm: 0 1px 2px rgba(0,0,0,.05);--shadow-md: 0 4px 6px rgba(0,0,0,.07);--shadow-lg: 0 10px 15px rgba(0,0,0,.1)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;scroll-behavior:smooth}body{font-family:var(--font-serif);background:var(--paper-cream);color:var(--ink-black);line-height:1.6;min-height:100vh;background-image:radial-gradient(circle at 20% 80%,rgba(214,168,113,.05) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(45,106,79,.03) 0%,transparent 50%),url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E")}#root{min-height:100vh;display:flex;flex-direction:column}h1,h2,h3,h4,h5,h6{font-family:var(--font-serif);font-weight:600;line-height:1.3;color:var(--ink-black)}h1{font-size:2rem}h2{font-size:1.5rem}h3{font-size:1.25rem}p{margin-bottom:var(--space-md)}a{color:var(--vermillion);text-decoration:none;transition:color var(--transition-fast)}a:hover{color:var(--cinnabar)}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--paper-warm)}::-webkit-scrollbar-thumb{background:var(--ink-light);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--ink-medium)}::selection{background:var(--gold-light);color:var(--ink-black)}
